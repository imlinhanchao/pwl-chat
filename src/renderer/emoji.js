let emojis = {
    "doge": {
        "type": "vditor",
        "url": "https://cdn.jsdelivr.net/npm/vditor@3.8.7/dist/images/emoji/doge.png"
    },
    "trollface": {
        "type": "vditor",
        "url": "https://cdn.jsdelivr.net/npm/vditor@3.8.7/dist/images/emoji/trollface.png"
    },
    "huaji": {
        "type": "vditor",
        "url": "https://cdn.jsdelivr.net/npm/vditor@3.8.7/dist/images/emoji/huaji.gif"
    },
    "trollface": {
        "type": "vditor",
        "url": "https://cdn.jsdelivr.net/npm/vditor@3.8.7/dist/images/emoji/trollface.png"
    },
    "octocat": {
        "type": "vditor",
        "url": "https://cdn.jsdelivr.net/npm/vditor@3.8.7/dist/images/emoji/octocat.png"
    },
    "wulian": {
        "type": "vditor",
        "url": "https://cdn.jsdelivr.net/npm/vditor@3.8.7/dist/images/emoji/wulian.png"
    },
    "smile": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/smile.png"
    },
    "laughing": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/laughing.png"
    },
    "blush": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/blush.png"
    },
    "smiley": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/smiley.png"
    },
    "relaxed": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/relaxed.png"
    },
    "smirk": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/smirk.png"
    },
    "heart_eyes": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/heart_eyes.png"
    },
    "kissing_heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/kissing_heart.png"
    },
    "kissing_closed_eyes": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/kissing_closed_eyes.png"
    },
    "flushed": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/flushed.png"
    },
    "relieved": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/relieved.png"
    },
    "satisfied": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/satisfied.png"
    },
    "grin": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/grin.png"
    },
    "wink": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/wink.png"
    },
    "stuck_out_tongue_winking_eye": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/stuck_out_tongue_winking_eye.png"
    },
    "stuck_out_tongue_closed_eyes": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/stuck_out_tongue_closed_eyes.png"
    },
    "grinning": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/grinning.png"
    },
    "kissing": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/kissing.png"
    },
    "kissing_smiling_eyes": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/kissing_smiling_eyes.png"
    },
    "stuck_out_tongue": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/stuck_out_tongue.png"
    },
    "sleeping": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sleeping.png"
    },
    "worried": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/worried.png"
    },
    "frowning": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/frowning.png"
    },
    "anguished": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/anguished.png"
    },
    "open_mouth": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/open_mouth.png"
    },
    "grimacing": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/grimacing.png"
    },
    "confused": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/confused.png"
    },
    "hushed": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/hushed.png"
    },
    "expressionless": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/expressionless.png"
    },
    "unamused": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/unamused.png"
    },
    "sweat_smile": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sweat_smile.png"
    },
    "sweat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sweat.png"
    },
    "disappointed_relieved": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/disappointed_relieved.png"
    },
    "weary": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/weary.png"
    },
    "pensive": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/pensive.png"
    },
    "disappointed": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/disappointed.png"
    },
    "confounded": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/confounded.png"
    },
    "fearful": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/fearful.png"
    },
    "cold_sweat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/cold_sweat.png"
    },
    "persevere": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/persevere.png"
    },
    "cry": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/cry.png"
    },
    "sob": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sob.png"
    },
    "joy": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/joy.png"
    },
    "astonished": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/astonished.png"
    },
    "scream": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/scream.png"
    },
    "tired_face": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/tired_face.png"
    },
    "angry": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/angry.png"
    },
    "rage": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/rage.png"
    },
    "triumph": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/triumph.png"
    },
    "sleepy": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sleepy.png"
    },
    "yum": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/yum.png"
    },
    "mask": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/mask.png"
    },
    "sunglasses": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sunglasses.png"
    },
    "dizzy_face": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/dizzy_face.png"
    },
    "imp": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/imp.png"
    },
    "smiling_imp": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/smiling_imp.png"
    },
    "neutral_face": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/neutral_face.png"
    },
    "no_mouth": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/no_mouth.png"
    },
    "innocent": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/innocent.png"
    },
    "alien": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/alien.png"
    },
    "yellow_heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/yellow_heart.png"
    },
    "blue_heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/blue_heart.png"
    },
    "purple_heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/purple_heart.png"
    },
    "heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/heart.png"
    },
    "green_heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/green_heart.png"
    },
    "broken_heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/broken_heart.png"
    },
    "heartbeat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/heartbeat.png"
    },
    "heartpulse": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/heartpulse.png"
    },
    "two_hearts": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/two_hearts.png"
    },
    "revolving_hearts": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/revolving_hearts.png"
    },
    "cupid": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/cupid.png"
    },
    "sparkling_heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sparkling_heart.png"
    },
    "sparkles": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sparkles.png"
    },
    "star": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/star.png"
    },
    "star2": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/star2.png"
    },
    "dizzy": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/dizzy.png"
    },
    "boom": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/boom.png"
    },
    "collision": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/collision.png"
    },
    "anger": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/anger.png"
    },
    "exclamation": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/exclamation.png"
    },
    "question": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/question.png"
    },
    "grey_exclamation": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/grey_exclamation.png"
    },
    "grey_question": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/grey_question.png"
    },
    "zzz": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/zzz.png"
    },
    "dash": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/dash.png"
    },
    "sweat_drops": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/sweat_drops.png"
    },
    "notes": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/notes.png"
    },
    "musical_note": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/musical_note.png"
    },
    "fire": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/fire.png"
    },
    "poop": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/poop.png"
    },
    "+1": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/%2B1.png"
    },
    "thumbsup": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/thumbsup.png"
    },
    "-1": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/-1.png"
    },
    "thumbsdown": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/thumbsdown.png"
    },
    "ok_hand": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/ok_hand.png"
    },
    "punch": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/punch.png"
    },
    "facepunch": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/facepunch.png"
    },
    "fist": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/fist.png"
    },
    "v": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/v.png"
    },
    "wave": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/wave.png"
    },
    "hand": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/hand.png"
    },
    "raised_hand": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/raised_hand.png"
    },
    "open_hands": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/open_hands.png"
    },
    "point_up": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/point_up.png"
    },
    "point_down": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/point_down.png"
    },
    "point_left": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/point_left.png"
    },
    "point_right": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/point_right.png"
    },
    "raised_hands": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/raised_hands.png"
    },
    "pray": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/pray.png"
    },
    "point_up_2": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/point_up_2.png"
    },
    "clap": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/clap.png"
    },
    "muscle": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/muscle.png"
    },
    "couple": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/couple.png"
    },
    "family": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/family.png"
    },
    "two_men_holding_hands": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/two_men_holding_hands.png"
    },
    "two_women_holding_hands": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/two_women_holding_hands.png"
    },
    "dancer": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/dancer.png"
    },
    "dancers": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/dancers.png"
    },
    "ok_woman": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/ok_woman.png"
    },
    "no_good": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/no_good.png"
    },
    "information_desk_person": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/information_desk_person.png"
    },
    "raising_hand": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/raising_hand.png"
    },
    "bride_with_veil": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/bride_with_veil.png"
    },
    "person_with_pouting_face": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/person_with_pouting_face.png"
    },
    "person_frowning": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/person_frowning.png"
    },
    "bow": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/bow.png"
    },
    "couplekiss": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/couplekiss.png"
    },
    "couple_with_heart": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/couple_with_heart.png"
    },
    "massage": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/massage.png"
    },
    "haircut": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/haircut.png"
    },
    "nail_care": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/nail_care.png"
    },
    "boy": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/boy.png"
    },
    "girl": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/girl.png"
    },
    "woman": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/woman.png"
    },
    "man": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/man.png"
    },
    "baby": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/baby.png"
    },
    "older_woman": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/older_woman.png"
    },
    "older_man": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/older_man.png"
    },
    "person_with_blond_hair": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/person_with_blond_hair.png"
    },
    "man_with_gua_pi_mao": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/man_with_gua_pi_mao.png"
    },
    "man_with_turban": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/man_with_turban.png"
    },
    "construction_worker": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/construction_worker.png"
    },
    "cop": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/cop.png"
    },
    "angel": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/angel.png"
    },
    "princess": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/princess.png"
    },
    "smiley_cat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/smiley_cat.png"
    },
    "smile_cat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/smile_cat.png"
    },
    "heart_eyes_cat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/heart_eyes_cat.png"
    },
    "kissing_cat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/kissing_cat.png"
    },
    "smirk_cat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/smirk_cat.png"
    },
    "scream_cat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/scream_cat.png"
    },
    "crying_cat_face": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/crying_cat_face.png"
    },
    "joy_cat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/joy_cat.png"
    },
    "pouting_cat": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/pouting_cat.png"
    },
    "japanese_ogre": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/japanese_ogre.png"
    },
    "japanese_goblin": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/japanese_goblin.png"
    },
    "see_no_evil": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/see_no_evil.png"
    },
    "hear_no_evil": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/hear_no_evil.png"
    },
    "speak_no_evil": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/speak_no_evil.png"
    },
    "guardsman": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/guardsman.png"
    },
    "skull": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/skull.png"
    },
    "feet": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/feet.png"
    },
    "lips": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/lips.png"
    },
    "kiss": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/kiss.png"
    },
    "droplet": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/droplet.png"
    },
    "ear": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/ear.png"
    },
    "eyes": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/eyes.png"
    },
    "nose": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/nose.png"
    },
    "tongue": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/tongue.png"
    },
    "love_letter": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/love_letter.png"
    },
    "bust_in_silhouette": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/bust_in_silhouette.png"
    },
    "busts_in_silhouette": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/busts_in_silhouette.png"
    },
    "speech_balloon": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/speech_balloon.png"
    },
    "thought_balloon": {
        "type": "emoji",
        "url": "https://pwl.icu/emoji/graphics/thought_balloon.png"
    }
}

let faces = JSON.parse(localStorage.getItem('faces')) || {};
faces['^faces'] = faces['^faces'] || { type: 'urls', url: []}
emojis = Object.assign(emojis, faces);

const emojiNames = Object.keys(emojis);

export default {
    search(name) {
        return emojiNames.filter(e => e.startsWith(name)).slice(0, 5).map(e => ({ name: e, url: emojis[e].url }));
    },
    get (name) {
        return emojis[name] ? `:${name}:` : `![图片表情](${name})`;
    },
    getUrl (name) {
        return emoji[name].url;
    },
    push (name, url) {
        if (!name && faces['^faces'].url.indexOf(url) < 0) {
            faces['^faces'].url.push(url);
            emojis['^faces'].url = faces['^faces'].url;
            return true;
        }
        else if(!name) return false;
        if (emojiNames.indexOf(name) >= 0) return false;
        emojis[name] = faces[name] = {
            type: 'face',
            url
        };
        emojiNames.push(name);
        return true;
    },
    save () {
        localStorage.setItem('faces', JSON.stringify(faces));
    },
    get urls () {
        return emojis['^faces'].url;
    },
    list (type) {
        return emojiNames.filter(e => emojis[e].type == type).map(e => ({ name: e, url: emojis[e].url }));
    }
}